<div class="container" ng-controller="AdminController as vm">
    <div class="panel panel-default">
        <div class="panel-heading ">            
            <h3 class="panel-title" translate>Admin Settings</h3>
        </div>
        <div class="panel-body ">
            <span ng-controller="SettingsController as infovm"
                class="pull-right">
                <span style="float:left;padding:2px;" ng-cloak>
                    {{ ::infovm.hostname }} <br> {{ ::infovm.ipAddress }} 
                </span>
                <img alt="Rame Logo" src="images/logo_fading_black_h40.gif" 
                    style="float:right;padding:2px;">
            </span>
            <div class="form-group">
                <label for="videoResOut" translate>Video output resolution</label>
                <select id="videoResOut" ng-model="vm.systemSettings.resolution">
                    <option
                        ng-repeat="vor in vm.videoOutputResolutions"
                        ng-value="vor" translate>{{ vor }}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="audioPort" translate>
                Audio port</label>
                <select id="audioPort" ng-model="vm.systemSettings.audioPort">
                    <option
                        ng-repeat="port in vm.audioPorts"
                        ng-value="port" translate>{{ port }}</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="deviceName" translate>Device name</label>
                <input type="text" name="deviceName" id="deviceName"
                    class="form-control" ng-model="vm.deviceName"
                    ng-pattern="/^[a-z\d]([a-z\d\-]{0,61}[a-z\d])?(\.[a-z\d]([a-z\d\-]{0,61}[a-z\d])?)*$/i"
                    ng-minlength="1" ng-maxlength="63" />
            </div>

            <div class="form-group">
                <label for="ipConfigurations" translate>IP Configurations</label>
                <div class="list-group" id="ipConfigurations">
                    <div class="list-group-item">
                        <div class="row form-group center-block">
                            <input type="checkbox"
                                ng-model="vm.manualIpConfig">
                                <span translate>
                                DHCP_CLIENT_SETTING
                                </span>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                aria-label="DeviceIP"
                                disabilify="!vm.manualIpConfig"
                                octets="vm.deviceIpOcts">
                                {{ 'Device IP' | translate }}
                            </rame-ip-address-block>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                aria-label="subnetMask"
                                disabilify="!vm.manualIpConfig"
                                octets="vm.subnetMaskOcts">
                                {{ 'Subnet mask' | translate }}
                            </rame-ip-address-block>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                aria-label="GatewayIP"
                                disabilify="!vm.manualIpConfig"
                                octets="vm.gatewayIpOcts">
                                {{Â 'Gateway IP' | translate }}
                            </rame-ip-address-block>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                aria-label="DNSIPpreferred"
                                disabilify="!vm.manualIpConfig"
                                octets="vm.dnsServerIpOcts">
                                {{ 'DNS, preferred' | translate }}
                            </rame-ip-address-block>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                label-address-usage="DNS, alternative"
                                aria-label="DNSIPalternative"
                                disabilify="!vm.manualIpConfig"
                                octets="vm.dnsAlternativeServerIpOcts">
                                {{ 'DNS, alternative' | translate }}
                            </rame-ip-address-block>
                        </div>
                        <div class="row form-group center-block">
                            <input type="checkbox"
                                ng-model="vm.systemSettings.ipDhcpServer"
                                ng-disabled="!vm.manualIpConfig"
                                ng-click="vm.prefillDhcpOcts()">
                                <span translate>
                                DHCP_SERVER_SETTING
                                </span>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                label-address-usage="DHCP range start"
                                aria-label="DHCPRangeStart"
                                disabilify="!vm.manualIpConfig || !vm.systemSettings.ipDhcpServer"
                                octets="vm.dhcpServerRangeStartIpOcts">
                                {{ 'DHCP range start' | translate }}
                            </rame-ip-address-block>
                        </div>
                        <div class="row form-group center-block">
                            <rame-ip-address-block
                                label-address-usage="DHCP range end"
                                aria-label="DHCPRangeEnd"
                                disabilify="!vm.manualIpConfig || !vm.systemSettings.ipDhcpServer"
                                octets="vm.dhcpServerRangeEndIpOcts">
                                {{ 'DHCP range end' | translate }}
                            </rame-ip-address-block>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="panel-footer">
            <button type="button" class="btn btn-default"
                ng-click="vm.saveSettings()">
                <span class="glyphicon"
                    ng-class="{ 'glyphicon-floppy-disk': vm.savingStatus !== 'saved', 'glyphicon-floppy-saved': vm.savingStatus === 'saved' }"
                    aria-hidden="true"></span>
                <span translate>SAVE_SETTINGS</span>
            </button>
        </div>
    </div>
</div>
